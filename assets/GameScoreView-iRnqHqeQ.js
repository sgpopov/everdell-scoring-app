import{c as r,a as e,o as a,d as w,r as S,k as B,t as x,e as v,w as C,f as V,_ as j,F as y,b as D,u as g,l as M,n as P,m as $,j as h,g as G,h as Z,i as b}from"./index-BwY7Wjpz.js";import{_ as A,a as N,c as I,d as L,e as T,f as z,g as F,b as U}from"./index-D6wUpsBS.js";import{u as q}from"./games-DIEzbtWP.js";import{_ as E}from"./InputField.vue_vue_type_script_setup_true_lang-15LSmLj8.js";function O(p,l){return a(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 9-3 3m0 0 3 3m-3-3h7.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const R={class:"lg:mt-5 mx-auto max-w-7xl sm:px-6 lg:px-8"},H={class:"mx-auto max-w-none"},J={class:"overflow-hidden bg-white sm:rounded-lg sm:shadow-sm"},K={class:"flex justify-between border-b border-gray-200 bg-white px-4 py-5 sm:px-6"},Q={class:"flex items-center gap-x-2 text-base font-semibold text-gray-900"},W=["src"],X={role:"list",class:"divide-y divide-gray-200"},Y={class:"px-4 py-4"},ee={class:"flex justify-between"},se={class:"sm:flex"},oe={class:"flex items-center text-gray-600"},te={class:"mt-2 flex items-center justify-between"},ae=w({__name:"ScoreCard",props:{game:{},scoreDetails:{}},emits:["scorePoints","cancel"],setup(p,{emit:l}){const d=p,n=l,_=S([]),i=Object.assign({"/src/assets/icons/icon-cards.png":F,"/src/assets/icons/icon-events.png":z,"/src/assets/icons/icon-journey.png":T,"/src/assets/icons/icon-prosperity.png":L,"/src/assets/icons/icon-resources.png":I,"/src/assets/icons/icon-tokens.png":N,"/src/assets/icons/icon-total.png":A,"/src/assets/images/logo.png":P}),m=s=>{var t;const o=s.replace(/^@/,"/src");return((t=i[o])==null?void 0:t.default)||""},u=()=>{n("scorePoints",_.value)},f=()=>{n("cancel")};return B(()=>{_.value=d.game.players.map(s=>({...s,score:s.scores[d.scoreDetails.key]||0}))}),(s,o)=>{var t;return a(),r("div",R,[e("div",H,[e("div",J,[e("div",K,[e("h3",Q,[e("img",{class:"max-w-6",src:m(s.scoreDetails.icon),alt:""},null,8,W),e("span",null,"Score :: "+x((t=s.scoreDetails)==null?void 0:t.title),1)]),e("div",null,[v(j,{to:"",onClick:V(f,["prevent"]),type:"secondary",class:"flex items-center gap-x-2"},{default:C(()=>[v(g(O),{class:"h-6 w-auto"}),o[0]||(o[0]=e("span",null,"Back",-1))]),_:1})])]),e("ul",X,[(a(!0),r(y,null,D(_.value,c=>(a(),r("li",{key:c.id},[e("div",Y,[e("div",ee,[e("div",se,[e("div",oe,[o[1]||(o[1]=e("svg",{class:"mr-1.5 size-5 shrink-0 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M7 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM14.5 9a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM14.5 16h-.106c.07-.297.088-.611.048-.933a7.47 7.47 0 0 0-1.588-3.755 4.502 4.502 0 0 1 5.874 2.636.818.818 0 0 1-.36.98A7.465 7.465 0 0 1 14.5 16Z"})],-1)),M(" "+x(c.name),1)])])]),e("div",te,[v(E,{type:"number",name:`player_${c.id}`,ariaLabel:`Player ${c.id}`,modelValue:c.score,"onUpdate:modelValue":k=>c.score=k,required:"",min:"0"},null,8,["name","ariaLabel","modelValue","onUpdate:modelValue"])])])]))),128))])]),e("div",{class:"flex m-4 lg:mx-0 justify-center"},[e("button",{class:"w-full rounded-md bg-orange-900 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-orange-950 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 cursor-pointer",onClick:u}," Add scores ")])])])}}}),ne={key:1},de=w({__name:"GameScoreView",setup(p){const l=$(),d=q(),n=l.params.id,_=l.params.score,i=d.getById(n);i||h.push("/");const m=G(()=>U.find(s=>s.key===_)),u=()=>{h.push({name:"games.details",params:{id:n}})},f=s=>{var t;const o=(t=m.value)==null?void 0:t.key;o&&d.updateGameScores(n,o,s),u()};return(s,o)=>(a(),r(y,null,[g(i)&&m.value?(a(),Z(ae,{key:0,game:g(i),scoreDetails:m.value,onScorePoints:f,onCancel:u},null,8,["game","scoreDetails"])):b("",!0),g(i)?b("",!0):(a(),r("div",ne,"Game not found"))],64))}});export{de as default};
